---
title: "Notebook 02 -- Solutions"
output:
  html_document:
    theme: cosmo
    highlight: zenburn
    css: "note-style.css"
---

```{r, include=FALSE}
library(tidyverse)
library(ggrepel)
library(smodels)

theme_set(theme_minimal())
options(pillar.min_character_chars = 15)
```

## Practice: Running R Code

That's all we have today for new material. In the rest of the
notebook are some further practice questions to see how well you
understood the material.

In the code block below, make a variable named `fav_number` and set it
equal to your favorite number. (Note, the quotes are not part of the
variable name).

```{r, question-01}
fav_number <- 8
```

In the code below, apply the function `log10` to your favorite
number. (Again, the quotes are not part of the function name).

```{r, question-02}
log10(fav_number)
```

Note that the only point of the exercises here are to familiarize
you with running code in R, creating variables, and applying functions.
We will get to more interesting tasks soon!

## Practice: Running Functions

R contains several functions for producing (pseudo)-random variables. These are
useful, for example, when using R to run simulation models. For example the
function `runif` selects (by default) a set of random numbers between 0 and 1.
It takes one required argument named `n`, which indicates how many random numbers
should be generated. In the code below, use the `runif` function to produce 100
random numbers. Verify that each time you run the code a different set of
numbers is produced:

```{r, question-03}
runif(n = 100)
```

The `runif` function also has two optional parameters. These are named `min` and
`max`; they determine the lower and upper bounds from which random numbers should
be generated. By default these are set to 0 and 1. In the code below, generate 100
random numbers between 50 and 100. Here, select the number of random numbers
*by position* (that is, without the code `n = 100`).

```{r, question-04}
runif(100, min = 50, max = 100)
```

A common concern for new R users when running the code above is the meaning behind
the numbers in square brackets to the left of the output. These are not part of the
output itself. Instead, they provide a counter telling you which result number appears
just to the left of right of it. The first line will always start with `[1]` because
it always starts with the first result. The second line's number will depend on the
width of your screen when you ran the code.

## Practice: Largest Cities data set

We will make extensive use of a data set that has information about the largest
cities (by population) in the world. To read in and print out this data set, run
the following lines of code:

```{r, message=FALSE, question-05}
cities <- read_csv(file.path("data", "largest_cities.csv"))
cities
```

Looking at the data, try to answer the following questions.

How many rows are in the data set? **Answer**: 81 cities.

What are the observations in the data set. **Answer**: Each observation is a city.

List three of the variables in the data set. **Answer**: name, country, and population
are three examples.

The population variables are given in millions of people. How many
people live in all of Tokyo? **Answer**: 37.4 million

How people live in Atlanta (Note: you will have to open the data
explorer to see this data)? **Answer**: 5.57 million

## Practice: Formatting

In the code block below, I wrote some code to add a new column to the data set
that describes the population density for each city (1000s of people per square
kilometer) and sorts from the most dense to the least dense. We will learn
this code over the next 6 chapters. For now, I want to focus on formatting
the code correctly. I did not include any spaces! Put the correct spaces into
the code to make it match the style guide given in the notes.

```{r, question-06}
new_data <- mutate(cities, city_density = city_pop / city_area * 1000)
new_data <- arrange(new_data, desc(city_density))
select(new_data, name, country, city_density)
```

Make sure to run the code after you are done. What city in the data set has, on
average, the most people per square kilometer? **Answer**: Shenzhen, China.

## What next?

Hopefully we were able to finish these notes in class together, if not
try to finish them on your own. However, note that there is no need to
hand these in. On the course website I will post solutions to each of
the notebooks. Usually this will follow the course meeting, but in the
case of this first week I posted them ahead of time. If you still have
questions, bring them to the course office hours or to our next class
meeting!
